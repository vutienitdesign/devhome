!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=Array.prototype.slice,i=Array.prototype.splice,r={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1},s=e(window),n=e(document),o=[],a=s.height(),c=function(){for(var t=s.scrollTop(),i=n.height(),r=i-a,c=t>r?r-t:0,p=0,l=o.length;l>p;p++){var u=o[p],f=u.stickyWrapper.offset().top,d=f-u.topSpacing-c;if(u.stickyWrapper.css("height",u.stickyElement.outerHeight()),d>=t)null!==u.currentTop&&(u.stickyElement.css({width:"",position:"",top:""}),u.stickyElement.parent().removeClass(u.className),u.stickyElement.trigger("sticky-end",[u]),u.currentTop=null);else{var h=i-u.stickyElement.outerHeight()-u.topSpacing-u.bottomSpacing-t-c;if(0>h?h+=u.topSpacing:h=u.topSpacing,u.currentTop!==h){var g;u.getWidthFrom?g=e(u.getWidthFrom).width()||null:u.widthFromWrapper&&(g=u.stickyWrapper.width()),null==g&&(g=u.stickyElement.width()),u.stickyElement.css("width",g).css("position","fixed").css("top",h),u.stickyElement.parent().addClass(u.className),null===u.currentTop?u.stickyElement.trigger("sticky-start",[u]):u.stickyElement.trigger("sticky-update",[u]),u.currentTop===u.topSpacing&&u.currentTop>h||null===u.currentTop&&h<u.topSpacing?u.stickyElement.trigger("sticky-bottom-reached",[u]):null!==u.currentTop&&h===u.topSpacing&&u.currentTop<h&&u.stickyElement.trigger("sticky-bottom-unreached",[u]),u.currentTop=h}var y=u.stickyWrapper.parent(),m=u.stickyElement.offset().top+u.stickyElement.outerHeight()>=y.offset().top+y.outerHeight()&&u.stickyElement.offset().top<=u.topSpacing;m?u.stickyElement.css("position","absolute").css("top","").css("bottom",0):u.stickyElement.css("position","fixed").css("top",h).css("bottom","")}}},p=function(){a=s.height();for(var t=0,i=o.length;i>t;t++){var r=o[t],n=null;r.getWidthFrom?r.responsiveWidth&&(n=e(r.getWidthFrom).width()):r.widthFromWrapper&&(n=r.stickyWrapper.width()),null!=n&&r.stickyElement.css("width",n)}},l={init:function(t){var i=e.extend({},r,t);return this.each(function(){var t=e(this),s=t.attr("id"),n=s?s+"-"+r.wrapperClassName:r.wrapperClassName,a=e("<div></div>").attr("id",n).addClass(i.wrapperClassName);t.wrapAll(a);var c=t.parent();i.center&&c.css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===t.css("float")&&t.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=t,i.stickyWrapper=c,i.currentTop=null,o.push(i),l.setWrapperHeight(this),l.setupChangeListeners(this)})},setWrapperHeight:function(t){var i=e(t),r=i.parent();r&&r.css("height",i.outerHeight())},setupChangeListeners:function(e){if(window.MutationObserver){var t=new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&l.setWrapperHeight(e)});t.observe(e,{subtree:!0,childList:!0})}else e.addEventListener("DOMNodeInserted",function(){l.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){l.setWrapperHeight(e)},!1)},update:c,unstick:function(){return this.each(function(){for(var t=this,r=e(t),s=-1,n=o.length;n-->0;)o[n].stickyElement.get(0)===t&&(i.call(o,n,1),s=n);-1!==s&&(r.unwrap(),r.css({width:"",position:"",top:"","float":""}))})}};window.addEventListener?(window.addEventListener("scroll",c,!1),window.addEventListener("resize",p,!1)):window.attachEvent&&(window.attachEvent("onscroll",c),window.attachEvent("onresize",p)),e.fn.sticky=function(i){return l[i]?l[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):l.init.apply(this,arguments)},e.fn.unstick=function(i){return l[i]?l[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):l.unstick.apply(this,arguments)},e(function(){setTimeout(c,0)})});